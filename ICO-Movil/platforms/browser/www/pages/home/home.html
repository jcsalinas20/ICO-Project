<!DOCTYPE html>
<html lang="es">
    <head>
        <script>
            const leng = localStorage.getItem("leng")
        </script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Home</title>

        <!--Importacion de JQuery-->
        <script
            src=".././../js/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"
        ></script>
        <!--Import Google Icon Font-->
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <!--Import materialize.css-->
        <link rel="stylesheet" href=".././../css/materialize.min.css" />
        <script src="home.js"></script>
        <!--CSS DEL HOME-->
        <link rel="stylesheet" href="./home.css" />
        <link rel="stylesheet" href="../../css/index.css" />
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            /* Efecto slide de izquierda a centro*/
            @keyframes popup {
                0% {
                    transform: scale(0);
                }

                100% {
                    transform: scale(1);
                }
            }
        </style>
        <script>
            authToken()
        </script>
    </head>

    <body>
        <p id="token" style="display: none;"></p>
        <script>
            document.getElementById("token").innerHTML = getParameterByName(
                "token"
            )
        </script>
        <iframe
            style="display: none; position: absolute; z-index: 2;"
            id="frame-preload"
            src="../preload/preload.html"
            frameborder="0"
            width="100%"
            height="100%"
        ></iframe>

        <div
            style="z-index: 4; display: none; background-color: #69696970;"
            id="container-frame-cambio-password"
            class="col s12 frames"
        >
            <iframe
                rel="preload"
                id="frame-password"
                src="../cambioPassword/cambioPassword.html"
                frameborder="0"
                width="90%"
                height="60%"
            ></iframe>
        </div>

        <div
            style="z-index: 4; display: none; background-color: #69696970;"
            id="container-frame-idioma"
            class="col s12 frames"
        >
            <iframe
                rel="preload"
                id="frame-idioma"
                src="../idioma/idioma.html"
                frameborder="0"
                width="100%"
                height="100%"
            ></iframe>
        </div>

        <div
            style="z-index: 4; display: none; background-color: #69696970;"
            id="container-frame-guia"
            class="col s12 frames"
        >
            <iframe
                rel="preload"
                id="frame-guia"
                src="../guia/guia.html"
                frameborder="0"
                width="90%"
                height="90%"
            ></iframe>
        </div>

        <iframe
            style="z-index: 3; position: fixed;"
            frameborder="0"
            id="frameMenu"
            src="../menu/menu.html"
        >
        </iframe>

        <!-- IFrame para mostrar los detalles de la consulta pendiente -->
        <iframe
            width="100%"
            height="100%"
            style="z-index: 2; position: fixed;display: none;"
            frameborder="0"
            id="frameConsultaPendiente"
            src="../detallesConsulta/detallesConsulta.html"
        >
        </iframe>
        <!-- IFrame para mostrar los detalles del Perfil del Paciente -->
        <iframe
            width="100%"
            height="100%"
            style="z-index: 2; position: fixed;display: none;"
            frameborder="0"
            id="framePerfil"
            src="../perfil/perfil.html"
        >
        </iframe>
        <!-- IFrame para mostrar la pantalla de Ayuda -->
        <iframe
            width="100%"
            height="100%"
            style="z-index: 2; position: fixed;display: none;"
            frameborder="0"
            id="frameAyuda"
            src="../ayuda/ayuda.html"
        >
        </iframe>
        <!-- IFrame para mostrar la pantalla de Noticai -->
        <header
            style="z-index: 2;position: absolute;display: none;"
            id="menuNoticia"
        >
            <i class="material-icons close" onclick="ocultarVentana()">close</i>
            <h1 id="titleMenu">NOTICIA</h1>
        </header>
        <iframe
            width="100%"
            height="92%"
            style="z-index: 2; position: fixed;display: none;bottom: 0;"
            frameborder="0"
            id="frameNoticia"
            src=""
        >
        </iframe>

        <!--IFrame de Noticias o Home-->
        <div id="container-frame-home" class="col s12 frames">
            <iframe
                frameborder="0"
                id="frameHome"
                width="100%"
                height="87%"
                src="./noticias/noticias.html"
            >
            </iframe>
        </div>
        <!--IFrame de Consultas-->
        <div id="container-frame-consultas" class="col s12 frames">
            <iframe
                frameborder="0"
                id="frameConsultas"
                width="100%"
                height="87%"
                src="./consultas/consultas.html"
            >
            </iframe>
        </div>
        <!--IFrame de Pastillas-->
        <div id="container-frame-pastillas" class="col s12 frames">
            <iframe
                frameborder="0"
                id="framePastillas"
                width="100%"
                height="87%"
                src="./pastillas/pastillas.html"
            >
            </iframe>
        </div>

        <!-- FOOTER -->
        <footer class="page-footer">
            <div class="container">
                <div class="row">
                    <div class="col s12 ningunPadding">
                        <ul id="footer" class="tabs">
                            <li class="tab col s4">
                                <a
                                    onclick="footerSlidePage('Home')"
                                    id="home"
                                    class="active"
                                    href="#container-frame-home"
                                    >Home</a
                                >
                            </li>
                            <li class="tab col s4">
                                <a
                                    onclick="footerSlidePage('Consultas')"
                                    id="consultas"
                                    href="#container-frame-consultas"
                                    >Consultas</a
                                >
                            </li>
                            <li class="tab col s4">
                                <a
                                    onclick="footerSlidePage('Pastillas')"
                                    id="pastillas"
                                    href="#container-frame-pastillas"
                                    >Pastillas</a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <script>
            primerInicioSesion(document.getElementById("token").innerHTML)

            // Funcion para hacer el efecto de slide en el Footer
            function footerSlidePage(page) {
                if (
                    document.getElementsByClassName("indicator")[0].style
                        .left === "0px" // Si es igual a 0 la pestaña actual es Home
                ) {
                    paginaActual = "Home"
                } else if (
                    document.getElementsByClassName("indicator")[0].style
                        .left === "225px" // Si es igual a 225 la pestaña actual es Pastillas
                ) {
                    paginaActual = "Pastillas"
                } else {
                    paginaActual = "Consultas" // Si no es ninguna de las 2 la pestaña actual es Consultas
                }
                paginaSeleccionada = page // Pagina a la que se va ha saltar

                // Guardar en una variable la pestña actual y a la que se va ha saltar
                saltoDePagina = paginaActual + "/" + paginaSeleccionada

                // Pasar de la pestaña Home a Consultas
                if (saltoDePagina === "Home/Consultas") {
                    document.getElementById(
                        "frameHome"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                    document.getElementById(
                        "frameConsultas"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromRight"
                    document.getElementById("container-frame-home").className =
                        "col s12 frames"
                    document.getElementById(
                        "container-frame-home"
                    ).style.display = "none"
                } // Pasar de la pestaña Home a Pastillas
                else if (saltoDePagina === "Home/Pastillas") {
                    document.getElementById(
                        "container-frame-home"
                    ).style.display = "none"
                    document.getElementById(
                        "frameConsultas"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                    document.getElementById(
                        "frameHome"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                } // Pasar de la pestaña Pastillas a Consultas
                else if (saltoDePagina === "Pastillas/Consultas") {
                    document.getElementById(
                        "container-frame-pastillas"
                    ).style.display = "none"

                    document.getElementById(
                        "frameConsultas"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                } // Pasar de la pestaña Pastillas a Home o Consultas a Home
                else if (
                    saltoDePagina === "Pastillas/Home" ||
                    saltoDePagina === "Consultas/Home"
                ) {
                    document.getElementById(
                        "container-frame-pastillas"
                    ).style.display = "none"
                    document.getElementById(
                        "container-frame-consultas"
                    ).style.display = "none"

                    document.getElementById(
                        "frameConsultas"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromRight"
                    document.getElementById(
                        "frameHome"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                } // Pasar de la pestaña Consultas a Pastillas
                else if (saltoDePagina === "Consultas/Pastillas") {
                    document.getElementById(
                        "container-frame-consultas"
                    ).style.display = "none"

                    document.getElementById(
                        "frameConsultas"
                    ).contentWindow.document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft"
                }
            }

            if (leng === "cat") {
                document.getElementById("pastillas").innerHTML = "pastilles"
                document.getElementById("consultas").innerHTML = "consultes"
            }
        </script>

        <!--SCRIPT GENERAL-->
        <script src=".././../js/index.js"></script>
        <!--SCRIPT DE MATERIALIZE-->
        <script src=".././../js/materialize.min.js"></script>
    </body>
</html>
