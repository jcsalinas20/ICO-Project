<!DOCTYPE html>
<html lang="es">
    <head>
        <script>
            const leng = localStorage.getItem("leng")
        </script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Consultas</title>

        <!-- Importacion de JQuery -->
        <script
            src=".././../../js/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"
        ></script>
        <!--Import Google Icon Font-->
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <!--Import materialize.css-->
        <link rel="stylesheet" href=".././../../css/materialize.min.css" />

        <link rel="stylesheet" href=".././../../css/index.css" />

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="consultas.js"></script>
        <link rel="stylesheet" href="consultas.css" />
    </head>

    <body>
        <script>
            getItems(window.parent.document.getElementById("token").innerHTML)
        </script>

        <header>
            <h1 id="titleMenu">CONSULTAS</h1>
        </header>

        <ul class="collapsible popout margin-top-header">
            <li class="active">
                <div
                    id="pendientes"
                    class="collapsible-header"
                    style="font-size: 20px;background-color: white;"
                >
                    <i class="material-icons medium">assignment_ind</i>Consultas
                    pendientes
                </div>
                <div
                    class="collapsible-body"
                    style="background-color: #42a6dc;"
                >
                    <ul id="consultas" class="collection with-header"></ul>
                </div>
            </li>
            <li>
                <div
                    id="historial"
                    class="collapsible-header"
                    style="font-size: 20px;background-color: white;"
                >
                    <i class="material-icons">assignment</i>Historial de
                    Consultas
                </div>
                <div
                    class="collapsible-body"
                    style="background-color: #42a6dc;"
                >
                    <ul
                        id="historial-consultas"
                        class="collection with-header"
                    ></ul>
                </div>
            </li>
        </ul>

        <script>
            var mouseDentro // Variable para detectar cuando se presiona la pantalla
            var mouseFuera // Variable para detectar cunado se deja de presionar

            // Evento para saber cuando se presiona la pantalla
            window.addEventListener("touchstart", function(e) {
                mouseDentro = e.touches[0].clientX // Asignar la posicion X
            })
            // Evento para saber cuando se deja de presionar la pantalla
            window.addEventListener("touchend", function(e) {
                mouseFuera = e.changedTouches[0].clientX // Asignar la posicion X
                var posicionesMovidas = mouseDentro - mouseFuera // Resta de las 2 posiciones
                if (posicionesMovidas > 70) {
                    // Si se han recorrido mas de 70px de derecha a izquierda

                    window.parent.document.getElementById(
                        "container-frame-consultas"
                    ).className = "col s12 frames" // se quita la clase active y se dejan las demas
                    window.parent.document.getElementById(
                        "container-frame-consultas"
                    ).style.display = "none" // se oculta
                    window.parent.document.getElementById(
                        "consultas"
                    ).className = "" // se quita la clase active

                    document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromLeft" // se agrega el efecto a la siguiente pestaña
                    window.parent.document.getElementById(
                        "container-frame-pastillas"
                    ).className = "col s12 frames active" // se agrega la clase active
                    window.parent.document.getElementById(
                        "container-frame-pastillas"
                    ).style.display = "block" // se muestra
                    window.parent.document.getElementById(
                        "pastillas"
                    ).className = "active" // se agrega la clase active

                    // se mueve el indicador del Footer a las siguientes coordenadas
                    window.parent.document.getElementsByClassName(
                        "indicator"
                    )[0].style.left = "225px"
                    window.parent.document.getElementsByClassName(
                        "indicator"
                    )[0].style.right = "0px"
                } else if (posicionesMovidas < -70) {
                    // Si se han recorrido mas de 70px de izquierda a derecha

                    window.parent.document.getElementById(
                        "container-frame-consultas"
                    ).className = "col s12 frames" // se quita la clase active y se dejan las demas
                    window.parent.document.getElementById(
                        "container-frame-consultas"
                    ).style.display = "none" // se oculta
                    window.parent.document.getElementById(
                        "consultas"
                    ).className = "" // se quita la clase active

                    document.body.style.animation =
                        "0.5s ease-out 0s 1 slideInFromRight" // se agrega el efecto a la siguiente pestaña
                    window.parent.document.getElementById(
                        "container-frame-home"
                    ).className = "col s12 frames active" // se agrega la clase active
                    window.parent.document.getElementById(
                        "container-frame-home"
                    ).style.display = "block" // se muestra
                    window.parent.document.getElementById("home").className =
                        "active" // se agrega la clase active

                    // se mueve el indicador del Footer a las siguientes coordenadas
                    window.parent.document.getElementsByClassName(
                        "indicator"
                    )[0].style.left = "0px"
                    window.parent.document.getElementsByClassName(
                        "indicator"
                    )[0].style.right = "225px"
                }
            })

            if (leng === "cat") {
                document.getElementById("titleMenu").innerHTML = "consultes"
                document.getElementById("pendientes").innerHTML = "<i class='material-icons medium'>assignment_ind</i>Consultes Pendents"
                document.getElementById("historial").innerHTML = "<i class='material-icons'>assignment</i>historial de consultes"
            }
        </script>
        <script src=".././../../js/index.js"></script>
        <!--JavaScript at end of body for optimized loading-->
        <script src=".././../../js/materialize.min.js"></script>
    </body>
</html>
